<!doctype html>
<html>
<head>
	<meta http-equiv="content-type" content="text/html; charset=utf-8">
	<link rel="stylesheet" type="text/css" href="../layout/graugans.css" />
</head>

<body>
	<h1>Aufsetzen einer Entwicklungsumgebung</h1>

	Schritte für: Aufsetzen einer Entwicklungsumgebung auf einem Ubunut PC mit dem auch die ausführbaren
   Dateien für einen Windows-PC erstellt werden. <br>

	<h2>Schritt 1: Installieren der Toolchain</h2>
   <div>
	 sudo apt-get update && sudo apt-get upgrade
	 sudo apt-get install mingw32 wine codeblocks codeblocks-contrib
	</div>

	<h2>Schritt 2: Wxwidgets Quelltextdateien herrunterladen und für die Zielhardware kompilieren</h2>

	<div>
		sudo su - <br>
		cd /opt <br>
		wget http://downloads.sourceforge.net/project/wxwindows/2.8.12/wxWidgets-2.8.12.tar.gz <br>
		tar -xvzf wxWidgets-2.8.12.tar.gz <br>
		cd wxWidgets-2.8.12/ <br>
		./configure --prefix=/usr/local/i586-mingw32 --host=i586-mingw32msvc --build=i686-linux --disable-shared --enable-unicode <br>
		make <br>
		make install<br>
	</div>	

	<h2>Schritt 3: Das Programm Codeblocks öffnen und die foglenden Einstellungen vornehmen</h2>

	<div>
		Settings > Compiler > 

		Selected Compiler > GNU GCC Compiler > Copy > New Compiler Name : MinGW Compiler

		Selected Compiler > MinGW Compiler

		Search Directories > Compiler > Add : /usr/i586-mingw32msvc/include/
		Search Directories > Linker > Add : /usr/i586-mingw32msvc/lib/
		Search Directories > Resource Compiler > Add : /usr/i586-mingw32msvc/include/

		Toolchain Executables >
		    Program Files >
		        Compilers Installation Directory : /usr/i586-mingw32msvc/
		        C Compiler : i586-mingw32msvc-gcc
		        C++ Compiler : i586-mingw32msvc-g++
		        Dynamic Linker : i586-mingw32msvc-g++
		        Static Linker : i586-mingw32msvc-ld
		   Additional Paths : /usr/bin

		Compiler Settings >  Other Options : `/usr/local/i586-mingw32/bin/wx-config --cxxflags` 
		Linker Settings > Other Options : `/usr/local/i586-mingw32/bin/wx-config --libs`
	</div>

Now create a new project in codeblocks, the key fields are as follows:

New Project > wXWidgets Project
    wXWidgets > 2.8.x
    Preferred GUI Builder > wxSmith
    Compiler > MinGW Compiler

In Codeblocks, click on compile - this sets up the applications output folder which we need in the next step.

In a terminal window, copy required mingwm10.dll to output folder:

cd <your applications Debug folder>
cp /usr/share/doc/mingw32-runtime/mingwm10.dll.gz .
gunzip mingwm10.dll.gz

Now run with wine:

wine ./youappname

To run your application on windows machine, copy mingwm10.dll and your appname executable to a windows machine. Rename your appname to have the suffix .exe. Double click to run.

<!-- AUTOGENERATED FOOTER POSITION -->
<!-- AUTOGENERATED FOOTER START --> 
<hr><hr>
<div id="FooterLogo">
	<img src="../layout/GraugansLogo.png">
</div>
<div id="FooterText">
  <br>
  Program:  Labskaus<br>
  Version:  v1.2<br><br>
  Graugans, created 2018 by Matthias Baumann
</div>
<!-- AUTOGENERATED FOOTER STOP -->
</body>
</html>
